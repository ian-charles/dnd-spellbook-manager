/**
 * ViewportToggle Component Styles
 * Developer tool for testing mobile/desktop layouts
 */

.viewport-toggle {
  position: fixed;
  bottom: var(--space-4);
  right: var(--space-4);
  z-index: 9999;
}

.viewport-toggle-btn {
  padding: var(--space-3) var(--space-4);
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: var(--radius-full);
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  transition: all var(--transition-base);
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.viewport-toggle-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
}

.viewport-toggle-btn.active {
  background: var(--color-accent);
}

/* Force mobile view when class is added to html element */
.force-mobile-view {
  /* Override all max-width media queries by setting a very small width */
  width: 100% !important;
}

/* Apply mobile styles when force-mobile-view is active */
.force-mobile-view .spell-table-container,
.force-mobile-view .spellbook-table-container {
  padding: 0;
  background: transparent;
  border: none;
  overflow-x: visible;
}

.force-mobile-view .spell-table thead,
.force-mobile-view .spellbook-table thead {
  display: none;
}

.force-mobile-view .spell-table,
.force-mobile-view .spell-table tbody,
.force-mobile-view .spellbook-table,
.force-mobile-view .spellbook-table tbody {
  display: block;
  width: 100%;
}

.force-mobile-view .spell-table tbody tr,
.force-mobile-view .spellbook-table tbody tr {
  display: flex;
  flex-wrap: wrap;
  margin-bottom: var(--space-3);
  background: light-dark(rgba(255, 255, 255, 0.95), rgba(30, 41, 59, 0.6));
  border: 1px solid light-dark(rgba(226, 232, 240, 0.8), rgba(100, 116, 139, 0.3));
  border-radius: var(--radius-xl);
  padding: var(--space-3) var(--space-4) var(--space-4);
  border-left: 4px solid var(--color-primary);
  position: relative;
  min-height: 60px;
  box-shadow: light-dark(0 1px 3px rgba(0, 0, 0, 0.05), none);
}

.force-mobile-view .spell-table tbody tr:hover,
.force-mobile-view .spellbook-table tbody tr:hover {
  background: light-dark(rgba(248, 250, 252, 0.95), rgba(30, 41, 59, 0.8));
}

.force-mobile-view .spell-row.expanded {
  background: light-dark(rgba(237, 233, 254, 0.3), rgba(79, 70, 229, 0.15));
}

.force-mobile-view .spellbook-table .prepared-row {
  background: light-dark(rgba(237, 233, 254, 0.25), rgba(79, 70, 229, 0.15));
}

.force-mobile-view .spellbook-table .prepared-row:hover {
  background: light-dark(rgba(237, 233, 254, 0.35), rgba(79, 70, 229, 0.2));
}

.force-mobile-view .spell-table td,
.force-mobile-view .spellbook-table td {
  padding: 0;
  border: none;
}

.force-mobile-view .spell-name {
  flex: 1 1 auto;
  padding: var(--space-2) var(--space-1) var(--space-2) var(--space-12);
  margin: 0;
  min-width: 0;
  order: 1;
}

.force-mobile-view .spell-table .spell-name {
  padding-left: var(--space-12) !important;
  padding-right: var(--space-1);
}

.force-mobile-view .spellbook-table .spell-name {
  padding-left: var(--space-12);
  padding-right: 12rem;
}

.force-mobile-view .spell-name-header {
  display: inline;
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: light-dark(#4c1d95, #a5b4fc);
  line-height: var(--line-height-snug);
  overflow-wrap: break-word;
  word-break: break-word;
}

.force-mobile-view .badge {
  display: inline-block;
  margin: 0 0 0 var(--space-1);
  padding: var(--space-1) var(--space-2);
  font-size: var(--font-size-xs);
}

.force-mobile-view .spell-expansion-cell {
  flex: 1 1 100%;
  width: 100%;
  display: block !important;
}

.force-mobile-view .spell-inline-expansion,
.force-mobile-view .spellbook-table .spell-inline-expansion {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid light-dark(rgba(203, 213, 225, 0.6), rgba(100, 116, 139, 0.3));
  animation: slideDown var(--transition-base) forwards;
  opacity: 1;
  color: light-dark(#1e293b, #e2e8f0);
}

.force-mobile-view .spell-expanded-row {
  display: none;
}

.force-mobile-view .spellbook-table .spell-expanded-row {
  display: none;
}

/* Spellbook-specific mobile styles */
.force-mobile-view .spellbook-detail {
  padding: var(--space-4);
}

.force-mobile-view .spellbook-header-top {
  flex-direction: column;
  align-items: stretch;
  gap: var(--space-3);
}

.force-mobile-view .spellbook-header-top h2 {
  font-size: var(--font-size-2xl);
}

.force-mobile-view .spellbook-header-top .btn-secondary {
  width: 100%;
}

.force-mobile-view .spellbook-attributes {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-4);
}

.force-mobile-view .spellbook-attributes span:last-child {
  grid-column: 1 / -1;
}

.force-mobile-view .spellbook-controls {
  flex-direction: column;
  align-items: stretch;
  gap: var(--space-3);
}

.force-mobile-view .spellbook-controls button {
  width: 100%;
}

.force-mobile-view .spellbook-table td:not(.spell-name):not(.level-col):not(.school-col):not(.prepared-col):not(.action-col):not(.spell-expansion-cell) {
  display: none;
}

.force-mobile-view .spell-table td:not(.checkbox-col):not(.spell-name):not(.level-col):not(.school-col):not(.spell-expansion-cell) {
  display: none;
}

/* Show level and school as inline badges - right-aligned */
.force-mobile-view .level-col,
.force-mobile-view .school-col {
  display: block !important;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--space-1) var(--space-2);
  margin: var(--space-1) var(--space-1) var(--space-1) 0;
  border-radius: var(--radius-md);
  background: light-dark(rgba(139, 92, 246, 0.1), rgba(139, 92, 246, 0.2));
  color: light-dark(#6d28d9, #a78bfa);
  border: 1px solid light-dark(rgba(139, 92, 246, 0.3), rgba(139, 92, 246, 0.3));
  white-space: nowrap;
  text-align: center;
}

.force-mobile-view .level-col {
  flex: 0 0 3rem;
  order: 2;
}

.force-mobile-view .school-col {
  flex: 0 0 auto;
  order: 3;
  margin-right: var(--space-8);
}

.force-mobile-view .spellbook-table .prepared-col {
  position: absolute !important;
  display: block !important;
  top: var(--space-3);
  left: var(--space-4);
  width: auto;
}

.force-mobile-view .spell-table .checkbox-col {
  position: absolute !important;
  display: block !important;
  top: var(--space-3);
  left: var(--space-4);
  width: auto;
}

.force-mobile-view .spell-table .checkbox-col input[type="checkbox"] {
  width: 24px;
  height: 24px;
  cursor: pointer;
}

.force-mobile-view .spellbook-table .prepared-col input[type="checkbox"] {
  width: 24px;
  height: 24px;
  cursor: pointer;
}

.force-mobile-view .spellbook-table .action-col {
  position: absolute !important;
  display: block !important;
  top: var(--space-3);
  right: var(--space-4);
  width: auto;
}

.force-mobile-view .btn-remove-small {
  width: 36px;
  height: 36px;
  font-size: var(--font-size-md);
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Other component mobile styles */
.force-mobile-view .form-row {
  grid-template-columns: 1fr;
}

.force-mobile-view .ability-buttons {
  flex-direction: column;
}

.force-mobile-view .ability-btn {
  width: 100%;
}

.force-mobile-view .spell-slots-container {
  gap: var(--space-1);
}

.force-mobile-view .spell-slot-input {
  flex: 0 0 auto;
}
