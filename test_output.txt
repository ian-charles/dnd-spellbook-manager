
 RUN  v1.6.0 /Users/sjaconette/dnd/dnd-spellbook-manager

 ✓ src/hooks/useSpellSorting.test.ts  (23 tests) 51ms
stdout | src/e2e/production-test.test.ts > Production Site Tests > Desktop (1280x800) > should load the page successfully
✓ Page title: D&D Spellbook Manager

stdout | src/e2e/production-test.test.ts > Production Site Tests > Desktop (1280x800) > should display spell table
✓ Spell table found

stdout | src/e2e/production-test.test.ts > Production Site Tests > Desktop (1280x800) > should load spells
✓ Found 319 spell rows

stdout | src/services/spell.service.test.ts > SpellService > loadSpells > should load spells from the API
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > loadSpells > should only load spells once
✅ Loaded 6 spells

stderr | src/services/spell.service.test.ts > SpellService > loadSpells > should throw error if fetch fails
❌ Error loading spells: Error: Failed to load spells: Not Found
    at SpellService.loadSpells (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/spell.service.ts:23:15)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/spell.service.test.ts:48:7
    at runTest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:967:3)
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7
    at withEnv (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:83:5)

stderr | src/services/spell.service.test.ts > SpellService > loadSpells > should throw error if JSON parsing fails
❌ Error loading spells: Error: Invalid JSON
    at Object.json (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/spell.service.test.ts:55:38)
    at SpellService.loadSpells (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/spell.service.ts:26:46)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/spell.service.test.ts:59:7
    at runTest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:781:11)
    at runSuite (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:909:15)
    at runSuite (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:909:15)
    at runFiles (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:958:5)
    at startTests (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:967:3)
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vitest/dist/chunks/runtime-runBaseTests.oAvMKtQC.js:116:7

stdout | src/services/spell.service.test.ts > SpellService > getAllSpells > should return all loaded spells
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSpellById > should return spell by ID
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSpellById > should return undefined for non-existent ID
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should search by spell name
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should search case-insensitively
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should search in description
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should search by school
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should search by class
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should return all spells for empty search
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > text search > should return empty array for non-matching search
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > level filtering > should filter by single level
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > level filtering > should filter by multiple levels
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > level filtering > should filter cantrips (level 0)
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > school filtering > should filter by single school
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > school filtering > should filter by multiple schools
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > class filtering > should filter by single class
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > class filtering > should filter by multiple classes
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > class filtering > should filter warlock-only spells
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > concentration filtering > should filter concentration spells
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > concentration filtering > should filter non-concentration spells
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > ritual filtering > should filter ritual spells
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > ritual filtering > should filter non-ritual spells
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter spells requiring verbal component
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter spells NOT requiring verbal component
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter spells requiring somatic component
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter spells NOT requiring somatic component
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter spells requiring material component
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter spells NOT requiring material component
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > component filtering > should filter V-only spells (V but not S or M)
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > combined filtering > should combine text search and level filter
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > combined filtering > should combine multiple filters
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > combined filtering > should return empty array when no spells match all filters
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > combined filtering > should handle complex filter combinations
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > searchSpells > should return all spells for empty filters
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSchools > should return unique list of schools
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSchools > should return sorted schools
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSchools > should return empty array when no spells loaded
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getClasses > should return unique list of classes
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getClasses > should return sorted classes
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getClasses > should handle spells with multiple classes
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSources > should return unique list of sources
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSources > should return sorted sources
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSpellCountByLevel > should return count of spells by level
✅ Loaded 6 spells

stdout | src/services/spell.service.test.ts > SpellService > getSpellCountByLevel > should not include levels with zero spells
✅ Loaded 6 spells

 ✓ src/services/spell.service.test.ts  (49 tests) 57ms
stdout | src/e2e/production-test.test.ts > Production Site Tests > Desktop (1280x800) > should expand spell inline on desktop
✓ Desktop spell expansion works

 ✓ src/components/SpellbookDetailView.test.tsx  (53 tests) 2354ms
stdout | src/e2e/production-test.test.ts > Production Site Tests > Mobile (375x667) > should load on mobile
✓ Mobile page loaded

stdout | src/e2e/production-test.test.ts > Production Site Tests > Mobile (375x667) > should have no horizontal scroll
✓ No horizontal scroll

 ❯ src/hooks/useSpellbooks.test.ts  (18 tests) 10ms
stderr | src/hooks/useSpellbooks.test.ts > useSpellbooks
Unhandled rejection: MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27
    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)
    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)
    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)
From previous: 
    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)

stderr | src/services/storage.service.test.ts > StorageService
Unhandled rejection: MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27
    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)
    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)
    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)
From previous: 
    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)

 ❯ src/services/storage.service.test.ts  (29 tests) 7ms
stdout | src/e2e/production-test.test.ts > Production Site Tests > Mobile (375x667) > should display spell cards with mobile styling
✓ Found 319 mobile spell cards

stdout | src/e2e/production-test.test.ts > Production Site Tests > Mobile (375x667) > should display spell cards with mobile styling
✓ Mobile card styling: { display: 'flex', borderRadius: '12px' }

stdout | src/e2e/production-test.test.ts > Production Site Tests > Mobile (375x667) > should expand spell inline on mobile
✓ Mobile spell expansion works

stdout | src/e2e/production-test.test.ts > Production Site Tests > Mobile (375x667) > should have touch-friendly buttons if present
ℹ No add buttons (expected - appear after creating spellbook)

 ✓ src/e2e/production-test.test.ts  (9 tests) 5768ms
 ✓ src/hooks/useFilterReducer.test.ts  (28 tests) 43ms
 ✓ src/components/SpellTooltip.test.tsx  (27 tests) 115ms
 ✓ src/App.test.tsx  (10 tests) 165ms
 ✓ src/components/SpellDescription.test.tsx  (21 tests) 71ms
 ✓ src/components/SpellbookList.test.tsx  (9 tests) 117ms
 ✓ src/utils/spellSortValues.test.ts  (32 tests) 3ms
 ✓ src/components/ConfirmDialog.test.tsx  (14 tests) 40ms
 ✓ src/components/SpellTable.test.tsx  (7 tests) 126ms
 ✓ src/components/AlertDialog.test.tsx  (16 tests) 59ms
 ❯ src/services/exportImport.service.test.ts  (8 tests | 8 failed) 8ms
   ❯ src/services/exportImport.service.test.ts > exportImportService > exportSpellbooks > should export all spellbooks as JSON string
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > exportSpellbooks > should export empty array when no spellbooks exist
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should import spellbooks from valid JSON
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should skip spellbooks with duplicate IDs
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for invalid JSON
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for missing required fields
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for unsupported version
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
   ❯ src/services/exportImport.service.test.ts > exportImportService > downloadSpellbooks > should trigger file download with correct filename
     → MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
stderr | src/services/exportImport.service.test.ts > exportImportService > exportSpellbooks > should export all spellbooks as JSON string
Unhandled rejection: MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27
    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)
    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)
    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)
From previous: 
    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)

stderr | src/services/exportImport.service.test.ts > exportImportService > exportSpellbooks > should export empty array when no spellbooks exist
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

stderr | src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should import spellbooks from valid JSON
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

stderr | src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should skip spellbooks with duplicate IDs
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

stderr | src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for invalid JSON
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

stderr | src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for missing required fields
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

stderr | src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for unsupported version
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

stderr | src/services/exportImport.service.test.ts > exportImportService > downloadSpellbooks > should trigger file download with correct filename
Unhandled rejection: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)
From previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59
    at Array.map (<anonymous>)
From previous: 
    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)
    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)
    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)
    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)
    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26
    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59

 ✓ src/components/LoadingButton.test.tsx  (15 tests) 107ms
 ✓ src/components/ErrorBoundary.test.tsx  (10 tests) 118ms
 ✓ src/components/SortIcon.test.tsx  (10 tests) 29ms
 ✓ src/hooks/useToast.test.ts  (10 tests) 21ms
 ✓ src/components/CreateSpellbookModal.test.tsx  (9 tests) 269ms
 ✓ src/hooks/useHashRouter.test.ts  (10 tests) 18ms
 ✓ src/hooks/useModal.test.ts  (9 tests) 38ms
 ✓ src/components/LoadingSkeleton.test.tsx  (12 tests) 53ms
 ✓ src/components/LoadingSpinner.test.tsx  (10 tests) 90ms
 ❯ src/e2e/spell-sorting.test.ts  (7 tests | 1 failed) 11208ms
   ❯ src/e2e/spell-sorting.test.ts > Spell Table Sorting E2E > should maintain sort when filtering
     → Waiting failed: 5000ms exceeded
 ❯ src/e2e/spell-search.test.ts  (7 tests | 1 failed) 12075ms
   ❯ src/e2e/spell-search.test.ts > Spell Search E2E > should combine search with filters
     → Waiting failed: 5000ms exceeded
 ❯ src/e2e/spell-filtering.test.ts  (13 tests | 1 failed) 12651ms
   ❯ src/e2e/spell-filtering.test.ts > Spell Filtering E2E > should filter spells by verbal component
     → Waiting failed: 5000ms exceeded
 ✓ src/e2e/spell-selection.test.ts  (13 tests) 15416ms
 ✓ src/e2e/ui-interactions.test.ts  (19 tests) 30493ms
 ❯ src/e2e/spell-tooltip.test.ts  (6 tests | 1 failed) 33918ms
   ❯ src/e2e/spell-tooltip.test.ts > Spell Description E2E > should collapse description when clicking the same spell row again
     → Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".

⎯⎯⎯⎯⎯⎯ Failed Suites 2 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/hooks/useSpellbooks.test.ts > useSpellbooks
 FAIL  src/services/storage.service.test.ts > StorageService
MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
 ❯ node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27
 ❯ executePromiseTask node_modules/dexie/src/helpers/promise.js:402:9
 ❯ new DexiePromise node_modules/dexie/src/helpers/promise.js:172:5
 ❯ tryOpenDB node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27
 ❯ tryOpenDB node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, inner: null, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'MissingAPIError', message: 'IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: null, _promise: [Circular], stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', stackStr: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', nameStr: 'MissingAPIError', expected: 'undefined', actual: 'undefined', constructor: 'Function<DexieError>', toString: 'Function<toString>', stacks: [ { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts', line: 50, column: 27 }, { method: 'executePromiseTask', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 402, column: 9 }, { method: 'new DexiePromise', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 172, column: 5 }, { method: 'tryOpenDB', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts', line: 42, column: 27 }, { method: 'tryOpenDB', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts', line: 42, column: 27 } ] }, _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', timeout: 'Function<timeout>' }, _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)' }
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/14]⎯

⎯⎯⎯⎯⎯⎯ Failed Tests 12 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/e2e/spell-filtering.test.ts > Spell Filtering E2E > should filter spells by verbal component
TimeoutError: Waiting failed: 5000ms exceeded
 ❯ new WaitTask node_modules/puppeteer-core/src/common/WaitTask.ts:77:28
 ❯ IsolatedWorld.waitForFunction node_modules/puppeteer-core/src/api/Realm.ts:74:22
 ❯ CdpFrame.waitForFunction node_modules/puppeteer-core/src/api/Frame.ts:791:36
 ❯ CdpFrame.<anonymous> node_modules/puppeteer-core/src/util/decorators.ts:63:21
 ❯ CdpPage.waitForFunction node_modules/puppeteer-core/src/api/Page.ts:3120:29
 ❯ src/e2e/spell-filtering.test.ts:220:16
    218| 
    219|     // Wait for filter to be applied - spell count should change
    220|     await page.waitForFunction(
       |                ^
    221|       (oldCount) => {
    222|         const newCount = document.querySelectorAll('.spell-row').lengt…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/14]⎯

 FAIL  src/e2e/spell-search.test.ts > Spell Search E2E > should combine search with filters
TimeoutError: Waiting failed: 5000ms exceeded
 ❯ new WaitTask node_modules/puppeteer-core/src/common/WaitTask.ts:77:28
 ❯ IsolatedWorld.waitForFunction node_modules/puppeteer-core/src/api/Realm.ts:74:22
 ❯ CdpFrame.waitForFunction node_modules/puppeteer-core/src/api/Frame.ts:791:36
 ❯ CdpFrame.<anonymous> node_modules/puppeteer-core/src/util/decorators.ts:63:21
 ❯ CdpPage.waitForFunction node_modules/puppeteer-core/src/api/Page.ts:3120:29
 ❯ src/e2e/spell-search.test.ts:208:16
    206| 
    207|     // Wait for filter to be applied
    208|     await page.waitForFunction(
       |                ^
    209|       () => {
    210|         const buttons = Array.from(document.querySelectorAll('button.f…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/14]⎯

 FAIL  src/e2e/spell-sorting.test.ts > Spell Table Sorting E2E > should maintain sort when filtering
TimeoutError: Waiting failed: 5000ms exceeded
 ❯ new WaitTask node_modules/puppeteer-core/src/common/WaitTask.ts:77:28
 ❯ IsolatedWorld.waitForFunction node_modules/puppeteer-core/src/api/Realm.ts:74:22
 ❯ CdpFrame.waitForFunction node_modules/puppeteer-core/src/api/Frame.ts:791:36
 ❯ CdpFrame.<anonymous> node_modules/puppeteer-core/src/util/decorators.ts:63:21
 ❯ CdpPage.waitForFunction node_modules/puppeteer-core/src/api/Page.ts:3120:29
 ❯ src/e2e/spell-sorting.test.ts:196:16
    194| 
    195|     // Wait for filter to be applied - check that button is active
    196|     await page.waitForFunction(
       |                ^
    197|       () => {
    198|         const buttons = Array.from(document.querySelectorAll('button.f…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/14]⎯

 FAIL  src/e2e/spell-tooltip.test.ts > Spell Description E2E > should collapse description when clicking the same spell row again
Error: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/14]⎯

 FAIL  src/services/exportImport.service.test.ts > exportImportService > exportSpellbooks > should export all spellbooks as JSON string
DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
 ❯ tempTransaction node_modules/dexie/src/functions/temp-transaction.ts:21:24
 ❯ node_modules/dexie/src/functions/temp-transaction.ts:28:48
 ❯ node_modules/dexie/src/helpers/promise.js:845:23
 ❯ callListener node_modules/dexie/src/helpers/promise.js:498:19
 ❯ endMicroTickScope node_modules/dexie/src/helpers/promise.js:584:25
 ❯ physicalTick node_modules/dexie/src/helpers/promise.js:557:30
 ❯ DexiePromise.then node_modules/dexie/src/helpers/promise.js:183:22
 ❯ tempTransaction node_modules/dexie/src/functions/temp-transaction.ts:28:37
 ❯ Table._trans node_modules/dexie/src/classes/table/table.ts:64:9
 ❯ Table.clear node_modules/dexie/src/classes/table/table.ts:390:17
 ❯ src/services/exportImport.service.test.ts:9:25
      7| describe('exportImportService', () => {
      8|   beforeEach(async () => {
      9|     await db.spellbooks.clear();
       |                         ^
     10| 
     11|     // Setup browser API mocks if they don't exist
 ❯ new Dexie$1 node_modules/dexie/src/classes/dexie/dexie.ts:127:28
 ❯ new DndSpellbookDB src/services/db.ts:11:5
 ❯ src/services/db.ts:19:19
 ❯ src/services/storage.service.ts:1:1

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, inner: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'MissingAPIError', message: 'IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: null, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: [Circular], _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', timeout: 'Function<timeout>' }, stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexieError>', toString: 'Function<toString>' }, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:37)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at new Dexie$1 (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts:127:28)\n    at new DndSpellbookDB (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:11:5)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:19:19\n    at VitestExecutor.runModule (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:362:5)\n    at VitestExecutor.directRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:346:5)\n    at VitestExecutor.cachedRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:189:14)\n    at VitestExecutor.dependencyRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:233:12)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts:1:1', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: true, _value: undefined, constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: '\n    at new Dexie$1 (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts:127:28)\n    at new DndSpellbookDB (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:11:5)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:19:19\n    at VitestExecutor.runModule (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:362:5)\n    at VitestExecutor.directRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:346:5)\n    at VitestExecutor.cachedRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:189:14)\n    at VitestExecutor.dependencyRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:233:12)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts:1:1', timeout: 'Function<timeout>' }, _numPrev: 1, _state: false, _value: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'DatabaseClosedError', message: 'MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'MissingAPIError', message: 'IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: null, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: [Circular], _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', timeout: 'Function<timeout>' }, stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexieError>', toString: 'Function<toString>' }, _promise: [Circular], stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:37)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\nFrom previous: \n    at new Dexie$1 (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts:127:28)\n    at new DndSpellbookDB (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:11:5)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:19:19\n    at VitestExecutor.runModule (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:362:5)\n    at VitestExecutor.directRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:346:5)\n    at VitestExecutor.cachedRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:189:14)\n    at VitestExecutor.dependencyRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:233:12)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts:1:1', _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)', stackStr: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:37)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\nFrom previous: \n    at new Dexie$1 (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts:127:28)\n    at new DndSpellbookDB (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:11:5)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:19:19\n    at VitestExecutor.runModule (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:362:5)\n    at VitestExecutor.directRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:346:5)\n    at VitestExecutor.cachedRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:189:14)\n    at VitestExecutor.dependencyRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:233:12)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts:1:1', nameStr: 'DatabaseClosedError', expected: 'undefined', actual: 'undefined', constructor: 'Function<DexieError>', toString: 'Function<toString>', stacks: [ { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 24 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 28, column: 48 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 845, column: 23 }, { method: 'callListener', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 498, column: 19 }, { method: 'endMicroTickScope', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 584, column: 25 }, { method: 'physicalTick', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 557, column: 30 }, { method: 'DexiePromise.then', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 183, column: 22 }, { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 28, column: 37 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'new Dexie$1', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts', line: 127, column: 28 }, { method: 'new DndSpellbookDB', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts', line: 11, column: 5 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts', line: 19, column: 19 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts', line: 1, column: 1 } ] }, _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:37)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\nFrom previous: \n    at new Dexie$1 (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts:127:28)\n    at new DndSpellbookDB (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:11:5)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:19:19\n    at VitestExecutor.runModule (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:362:5)\n    at VitestExecutor.directRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:346:5)\n    at VitestExecutor.cachedRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:189:14)\n    at VitestExecutor.dependencyRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:233:12)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts:1:1', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:37)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\nFrom previous: \n    at new Dexie$1 (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie.ts:127:28)\n    at new DndSpellbookDB (/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:11:5)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/db.ts:19:19\n    at VitestExecutor.runModule (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:362:5)\n    at VitestExecutor.directRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:346:5)\n    at VitestExecutor.cachedRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:189:14)\n    at VitestExecutor.dependencyRequest (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/vite-node/dist/client.mjs:233:12)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/storage.service.ts:1:1', timeout: 'Function<timeout>' }, _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:28:48\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:845:23\n    at callListener (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:498:19)\n    at endMicroTickScope (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:584:25)\n    at physicalTick (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:557:30)' }
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/14]⎯

 FAIL  src/services/exportImport.service.test.ts > exportImportService > exportSpellbooks > should export empty array when no spellbooks exist
 FAIL  src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should import spellbooks from valid JSON
 FAIL  src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should skip spellbooks with duplicate IDs
 FAIL  src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for invalid JSON
 FAIL  src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for missing required fields
 FAIL  src/services/exportImport.service.test.ts > exportImportService > importSpellbooks > should throw error for unsupported version
 FAIL  src/services/exportImport.service.test.ts > exportImportService > downloadSpellbooks > should trigger file download with correct filename
DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb
 ❯ tempTransaction node_modules/dexie/src/functions/temp-transaction.ts:21:24
 ❯ Table._trans node_modules/dexie/src/classes/table/table.ts:64:9
 ❯ Table.clear node_modules/dexie/src/classes/table/table.ts:390:17
 ❯ src/services/exportImport.service.test.ts:9:25
      7| describe('exportImportService', () => {
      8|   beforeEach(async () => {
      9|     await db.spellbooks.clear();
       |                         ^
     10| 
     11|     // Setup browser API mocks if they don't exist
 ❯ DexiePromise.then node_modules/dexie/src/helpers/promise.js:183:22
 ❯ Table.clear node_modules/dexie/src/classes/table/table.ts:392:10
 ❯ src/services/exportImport.service.test.ts:9:25
 ❯ tempTransaction node_modules/dexie/src/functions/temp-transaction.ts:21:24
 ❯ Table._trans node_modules/dexie/src/classes/table/table.ts:64:9
 ❯ Table.clear node_modules/dexie/src/classes/table/table.ts:390:17
 ❯ src/services/exportImport.service.test.ts:9:25
 ❯ PromiseReject node_modules/dexie/src/helpers/promise.js:637:12
 ❯ tempTransaction node_modules/dexie/src/functions/temp-transaction.ts:21:14
 ❯ Table._trans node_modules/dexie/src/classes/table/table.ts:64:9
 ❯ Table.clear node_modules/dexie/src/classes/table/table.ts:390:17
 ❯ src/services/exportImport.service.test.ts:9:25

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, inner: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'MissingAPIError', message: 'IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: null, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: [Circular], _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', timeout: 'Function<timeout>' }, stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexieError>', toString: 'Function<toString>' }, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'DatabaseClosedError', message: 'MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'MissingAPIError', message: 'IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: null, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: [Circular], _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', timeout: 'Function<timeout>' }, stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexieError>', toString: 'Function<toString>' }, _promise: [Circular], stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)\nFrom previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)', stackStr: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)\nFrom previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', nameStr: 'DatabaseClosedError', expected: 'undefined', actual: 'undefined', constructor: 'Function<DexieError>', toString: 'Function<toString>', stacks: [ { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 24 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'DexiePromise.then', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 183, column: 22 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 392, column: 10 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 24 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'PromiseReject', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 637, column: 12 }, { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 14 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 } ] }, constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', timeout: 'Function<timeout>' }, _numPrev: 1, _state: false, _value: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'DatabaseClosedError', message: 'MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: { _e: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexieError (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/errors/errors.js:125:19)\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, name: 'MissingAPIError', message: 'IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb', inner: null, _promise: { _listeners: [], onuncatched: 'Function<nop>', _lib: false, _PSD: { id: 'global', global: true, ref: 4, unhandleds: [], onunhandled: 'Function<globalError>', pgp: false, env: { Promise: 'Function<Promise>', PromiseProp: { value: 'Function<Promise>', writable: true, enumerable: false, configurable: true }, all: 'Function<all>', race: 'Function<race>', allSettled: 'Function<allSettled>', any: 'Function<any>', resolve: 'Function<resolve>', reject: 'Function<reject>', nthen: 'Function<then>', gthen: 'Function<then>' }, finalize: 'Function<finalize>' }, _stackHolder: { stack: 'Error: \n    at getErrorWithStack (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/debug.ts:29:12)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:153:29)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<Error>', name: 'Error', message: '', toString: 'Function<toString>' }, _prev: null, _numPrev: +0, _state: false, _value: [Circular], _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', timeout: 'Function<timeout>' }, stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)\nFrom previous: \n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', _stack: 'MissingAPIError: IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:50:27\n    at executePromiseTask (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:402:9)\n    at new DexiePromise (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:172:5)\n    at tryOpenDB (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/dexie/dexie-open.ts:42:27)', constructor: 'Function<DexieError>', toString: 'Function<toString>' }, _promise: [Circular], stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)\nFrom previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)', stackStr: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)\nFrom previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', nameStr: 'DatabaseClosedError', expected: 'undefined', actual: 'undefined', constructor: 'Function<DexieError>', toString: 'Function<toString>', stacks: [ { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 24 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'DexiePromise.then', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 183, column: 22 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 392, column: 10 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 24 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 }, { method: 'PromiseReject', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js', line: 637, column: 12 }, { method: 'tempTransaction', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts', line: 21, column: 14 }, { method: 'Table._trans', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 64, column: 9 }, { method: 'Table.clear', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts', line: 390, column: 17 }, { method: '', file: '/Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts', line: 9, column: 25 } ] }, _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)\nFrom previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', constructor: 'Function<DexiePromise>', then: 'Function<then>', _then: 'Function<_then>', catch: 'Function<catch>', finally: 'Function<finally>', stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at DexiePromise.then (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:183:22)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:392:10)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\n    at callSuiteHook (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:47)\nFrom previous: DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)\nFrom previous: \n    at PromiseReject (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/helpers/promise.js:637:12)\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:14)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59', timeout: 'Function<timeout>' }, _stack: 'DatabaseClosedError: MissingAPIError IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\n    at tempTransaction (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/functions/temp-transaction.ts:21:24)\n    at Table._trans (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:64:9)\n    at Table.clear (file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/dexie/src/classes/table/table.ts:390:17)\n    at /Users/sjaconette/dnd/dnd-spellbook-manager/src/services/exportImport.service.test.ts:9:25\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:135:14\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:60:26\n    at file:///Users/sjaconette/dnd/dnd-spellbook-manager/node_modules/@vitest/runner/dist/index.js:700:59\n    at Array.map (<anonymous>)' }
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/14]⎯

 Test Files  7 failed | 24 passed (31)
      Tests  12 failed | 454 passed (513)
   Start at  11:07:08
   Duration  34.30s (transform 1.79s, setup 1.31s, collect 4.41s, tests 125.50s, environment 9.15s, prepare 2.55s)

